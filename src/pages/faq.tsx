import { NextPage } from 'next';
import Layout from '@/components/Layout';
import Head from 'next/head';
import Image from 'next/image';
import { useState } from 'react';
import { useContactModal } from '@/pages/_app';

// FAQ數據結構
type FAQItem = {
  question: string;
  answer: string;
};

type FAQCategory = {
  id: number;
  title: string;
  items: FAQItem[];
};

// FAQ數據 - 您可以根據需要填充或修改
const faqData: FAQCategory[] = [
  {
    id: 1,
    title: '清洗問題',
    items: [
      {
        question: '冷氣機要多久清潔一次？',
        answer: '冷氣機愈來愈不凍，很多時都是因為沒有為它好好清潔。不論窗口式或分體式，最好都每開2個月就檢查及清潔其入風位的隔塵網，至於一些特別例子如入風口對正公路，就要更頻繁清潔，大約每月一次。'
      },
      {
        question: '清洗程序是什麼?',
        answer: '師傅會先開機測試機件是否運作正常後才拆下面蓋﹐以高壓水槍伸至豬籠摩打清洗﹐其間師傅會以防水物料包圍室內機身﹐防止污水濺出。'
      },
      {
        question: '清洗會否有保養期?',
        answer: '一般我們會提供1個月的保養'
      },
      {
        question: '如何清洗大金VRV系統的冷氣機？',
        answer: '大金VRV系統需要專業的清洗維護，與普通分體式冷氣不同。我們的專業技術人員會使用特殊設備和清潔劑，清洗室內機組的蒸發器、風扇、排水盤和過濾網，同時檢查室外機組的冷凝器和製冷劑。由於VRV系統較為複雜，建議每季度進行一次專業清洗，確保系統高效運行，延長使用壽命。'
      },
      {
        question: '冷氣機可以自己清洗嗎？哪些部分不能自己處理？',
        answer: '可自行清洗部分：濾網（拆下用清水沖洗），出風口、面板（濕布擦拭），鋁鰭片（噴專用清潔劑後輕刷）。建議找專業人員處理的部分：風輪（需拆機，自行清洗可能損壞馬達），冷媒管路檢查與補充，電路板清潔（水洗可能短路）。'
      },
      {
        question: '冷氣清洗後還是有異味，怎麼辦？',
        answer: '可能原因：蒸發器或風輪深層黴菌 → 需拆機用抗菌清潔劑處理；排水管堵塞發霉 → 需疏通並用漂白水殺菌（稀釋後沖洗）；室內環境潮濕 → 建議搭配除濕機或定期開「送風模式」保持乾燥。'
      },
      {
        question: '不清洗冷氣會怎樣？',
        answer: '耗電增加（效率下降 20%~30%），冷度不足（出風變小、溫度降不下來），容易故障（壓縮機過熱、排水堵塞漏水），空氣品質差（黴菌、塵蟎引發過敏）。'
      },
      {
        question: '冷氣清洗後反而漏水，是什麼原因？',
        answer: '可能問題：排水管未裝回正確位置（自行拆裝時容易發生），清潔時鋁鰭片變形，導致冷凝水無法順利流入排水槽，排水孔仍堵塞（需用細鐵絲或通條徹底疏通）。'
      },
      {
        question: '冷氣室外機需要清洗嗎？怎麼洗？',
        answer: '需要！室外機積塵會影響散熱，導致冷氣效率降低。自行清潔：用軟毛刷或吸塵器清除表面灰塵，再以低壓水槍沖洗散熱片（避免直接噴到電路部分）。專業清洗：若油污嚴重（如餐廳附近），建議請師傅用高壓蒸氣清洗。'
      }
    ]
  },
  {
    id: 2,
    title: '安裝問題',
    items: [
      {
        question: '安裝匹數是如何計算?',
        answer: '每9000BTU 為1匹﹐每平方尺有100 BTU/hr的製冷量通常是足夠的，即100平方尺的室內空間所需的製冷量為10,000 BTU/hr。當然您仍然需要考慮其他因素去決定選用的冷氣機匹數，請向技術人員查詢專業意見。'
      },
      {
        question: '定頻式 及 變頻式 分別?',
        answer: '定頻式是指空調的壓縮機工作頻率是固定不變的，始終是50Hz，當空調製冷將房間溫度降到設定溫度時，壓縮機會停止工作。 而變頻式是指空調壓縮機會根據設定溫度與環境溫度的差值大小，來改變工作頻率，當空調製冷將房間溫度降到設定溫度時，壓縮機不會停止工作，而是轉為較低的工作頻率來工作。 簡單理解：定頻式是根據溫控器探頭來指揮空調機的啟動和停機（所以它有頻繁啟動/停機的特點），而空調機的每次啟動都帶來一個較大的瞬間電流，由此造成較耗電。而變頻式是通過改變工作頻率來維持溫度設定。也就是說它是自開機以來就不再停機了，只是通過改變運行頻率來工作，由此它就沒有什麼瞬間電流的問題了。所以它較定頻空調省電。'
      },
      {
        question: '大金VRV/VRF系統與傳統分體式冷氣有什麼不同？',
        answer: '大金VRV（Variable Refrigerant Volume）或VRF（Variable Refrigerant Flow）系統是一種高效能的中央空調系統，與傳統分體式冷氣相比有多個優勢：1) 能效更高，可節省20-30%能耗；2) 一個室外機可連接多達64個室內機；3) 溫度控制更精準，每個區域可獨立控制；4) 運行更安靜；5) 佔用空間更少；6) 適合大型商業和工業建築。安裝VRV/VRF系統需要專業團隊進行設計和施工，我們擁有豐富的大金VRV系統安裝經驗，可提供整體解決方案。'
      },
      {
        question: '大金VRV系統安裝需要多長時間？',
        answer: '大金VRV系統的安裝時間取決於項目規模和複雜度。小型辦公室通常需要3-5天，而大型商業空間可能需要2-4週。安裝過程包括系統設計規劃、室外機和室內機安裝、冷媒管道連接、電氣接線、系統測試和調試等步驟。我們的專業團隊會根據客戶需求制定詳細的安裝計劃，確保安裝質量和效率。'
      },
      {
        question: '冷氣甚麼牌子耐用?',
        answer: '市面上一般消費者會選用大金,樂聲,樂信,珍寶等知名牌子; 而大金產地分別是泰國及馬來西亞,泰國出產的價錢會較為昂貴,而馬來西亞產地的價格相對便宜﹐但性能上是與泰國產地的沒有分別; 此外﹐樂信及樂聲是同一廠家,樂信比樂聲較為便宜,質量與樂聲差不多; 而其次可選用美的,格力或開利,格力是近年進註香港的冷氣牌子,其質量也可媲美大牌子的冷氣'
      },
      {
        question: '外牆沒有位置裝室機怎麼辦?',
        answer: '因香港現在有[潛建]條例,家裡只有窗口式窗台而大廈外牆未必可以給客人安裝有室外機的冷氣機,客人有機會要向屋宇署申請加建才合法,如有此情況客人可選用窗口式分體機或窗口機,窗口式分體機的室外機較為細小,一般都可以安裝在窗台位置,而窗口式分體機比窗口機較為靜,是一個不錯的選擇。'
      },
      {
        question: '一級能源標籤可以節省幾多能源？',
        answer: '1級能源標籤的冷氣機其能源效益最高，5級則最低。根據機電工程署網頁的資料，以窗口式冷氣機為例，1級能源標籤就比3級的節省11%能源；至於1級分體式冷氣機則比3級的節省36%能源。冷氣機愈合符能源效益，不但會消耗較少能源，有助保護環境，亦可為用戶節省電費。'
      },
      {
        question: '分體式vs窗口式冷氣機，各有甚麼優缺點？',
        answer: '窗口式冷氣即最傳統的冷氣機，顧名思義必須安裝在窗台位置；至於近年流行的分體式冷氣機，是指將傳統冷氣機中，製冷部分的壓縮器分柝出來，壓縮器繼續裝在窗台上，而出風的室內機則可另外安裝在室內的任何一道牆身上。\n \n相對而言，窗口式冷氣不論在安裝、清潔而至維修上都較為簡單，不過由於壓縮器沒有分柝出來，所以即使是最靜的形號亦會發出嘈音。\n \n至於分體式冷氣機方面，由於壓縮器被分拆出來裝在室外，因此可大大減少噪音，寧靜得多。不過，分體式冷氣機一般售價及安裝費都較貴，維修上亦比窗式冷氣機更複雜。'
      },
      {
        question: '安裝空調需要搭棚嗎?',
        answer: '1. 安裝位置與高度\n\n    低樓層（1-2樓）：\n    若室外機可從窗戶或陽台直接搬運，且安裝位置伸手可及（如窗空調或分離式室外機靠近陽台），通常不需搭棚，但需確保施工人員有安全繩等防護措施。\n\n    高樓層（3樓以上）：\n    若室外機需懸掛在外牆且無法從室內直接操作（如無專用工作陽台），或需高空吊運設備，則需搭棚或使用高空作業車，以確保安全。\n\n2. 施工風險評估\n\n    安全規範：\n    根據許多地區的勞動法規，高空作業（如超過2公尺）需使用防墜設施（如安全帶、防護網）或搭設臨時支架。若空調安裝位置風險高（如外牆無立足點），搭棚是必要的。\n\n    防止墜物：\n    若樓下為公共區域（如人行道、停車場），搭棚可防止工具或零件掉落，避免意外。\n\n3. 建築結構限制\n\n    公寓或社區規定：\n    部分大樓管委會可能要求搭棚，以符合公共安全規範，尤其是施工可能影響鄰居時（如冷媒管需沿外牆佈線）。\n\n    特殊外牆設計：\n    若外牆有裝飾性結構（如玻璃幕牆、挑高設計），搭棚可能是唯一安全的施工方式。\n\n4. 替代方案\n\n    無需搭棚的情況：\n        使用「高空作業車」或「吊車」輔助安裝。\n        選擇「室內可操作」的安裝位置（如陽台、露台）。\n        新型空調若有簡化安裝設計（如分體式室外機輕量化）。\n    需搭棚的情況：\n        老舊建築無電梯或設備無法吊運。\n        施工時間長、工序複雜（如需焊接或拆除原有結構）。\n\n建議步驟\n    評估現場：請專業空調廠商或施工團隊現場勘查，確認安裝難度。\n    遵守法規：查詢當地高空作業法規及社區規定。\n    成本考量：搭棚會增加費用（約數千至上萬元不等），需納入預算。\n\n若仍有疑問，可直接提供具體安裝環境（如樓層、外牆照片等），以便更精準判斷！'
      },
      {
        question: '冷氣機安裝常見問題 Q&A',
        answer: '1. 冷氣機安裝前要注意什麼？\n✅ 確認安裝環境：\n分體式冷氣：室內機與室外機距離建議不超過原廠指引（過長會影響冷媒效率）。\n窗型冷氣：確認窗口尺寸是否匹配，並檢查支架承重能力。\n電壓與電源：一般家用冷氣多為220V，需確認配電是否足夠（老舊房屋可能需升級線路）。\n✅ 選擇合適位置：\n室內機：避免直吹床或沙發，建議安裝在對流良好的位置。\n室外機：需通風良好，避免陽光直射或密閉空間（如陽台加裝格柵可能影響散熱）。\n\n2. 分體式冷氣安裝流程？\n室內機定位：確認安裝位置，鑽孔穿管（需注意排水坡度）。\n室外機安裝：固定支架，確保水平且穩固（避免震動噪音）。\n冷媒管與排水管連接：\n銅管需抽真空（避免空氣濕氣影響冷媒效率）。\n排水管需保持1~3°向下傾斜，防止積水倒流。\n電路連接與測試：確認運轉正常，無異常噪音或漏水。\n\n3. 窗口機冷氣安裝要注意什麼？\n窗口尺寸：需比冷氣機身寬5~10cm，方便散熱與安裝。\n支架強度：必須能承受冷氣重量（一般需用不鏽鋼支架）。\n機體傾斜：後方應比前方低約1~2cm，讓冷凝水順利排出。\n密封防雨：安裝後需用發泡膠或防水膠條填縫，避免雨水滲入。\n\n4. 安裝不當會導致哪些問題？\n⚠️ 常見安裝不良的影響：\n冷媒洩漏（銅管未鎖緊或焊接不良）→ 冷氣不冷、耗電增加。\n排水不良（坡度錯誤或堵塞）→ 室內機漏水。\n噪音過大（室外機未固定穩固）→ 運轉震動聲擾人。\n散熱不良（室外機安裝在密閉空間）→ 冷氣效率下降，甚至過熱保護停機。\n\n5. 可以自己安裝冷氣嗎？\n❌ 不建議！ 原因包括：\n需專業工具（如真空泵、冷媒表）。\n安裝不當可能導致冷媒洩漏、電路短路、漏水等問題。\n若自行安裝，原廠可能拒絕保固。\n\n7. 如何選擇我們團隊安裝冷氣\n核準資格：冷氣安裝需具備經驗及核準資格。\n己購買、第三者意外責任保及勞工保險\n是否會抽真空？（會）\n是否提供保固期？（安裝保固1年）\n\n8. 安裝後如何檢查是否正常？\n測試制冷/制熱：確認出風溫度明顯變化。\n檢查排水：運轉30分鐘後，觀察排水管是否暢通。\n聽噪音：無異常金屬碰撞或尖銳聲。\n看電錶：若電費異常增加，可能是安裝不良導致效率低下。\n\n總結建議\n安裝前：確認環境、電壓、冷氣噸數是否匹配。\n安裝時：選擇專業冷氣公司，避免省小錢導致後續問題。\n安裝後：測試基本功能，並定期保養以維持效能。'
      },
      {
        question: '冷氣匹數與房間之間有甚麼關係？',
        answer: '客廳或房間的面積愈大，就需要愈大匹數的冷氣機。50呎至100呎的房間約需要一部3/4匹的冷氣機，至於200呎的客廳就需要1匹至1.5匹的冷氣。如果整個廳面積達700呎，又或者是飯廳連開放式廚房，就可能需要2匹的冷氣機。\n \n不同環境需要的冷氣匹數有所不同，例如一個經常西斜，或者位處高層、四周沒有建築物遮擋的單位，由於經常受陽光照射，加上石屎牆身吸熱，所需的冷氣匹數亦可能比一般單位較高，因此挑選冷氣機前亦需考慮這些因素。'
      },
      {
        question: '冷氣如何選購合適?',
        answer: '選購冷氣時需綜合考慮「空間條件」、「冷氣類型」、「能源效率」、「預算」及「附加功能」等因素，以下為詳細指南：\n\n一、\n類型\t\t優點\t\t\t缺點\t\t\t適合情境\n窗型冷氣\t安裝簡單、價格低\t噪音較大、耗能高\t小空間（<250尺）、預算有限\n分離式冷氣\t安靜、節能、美觀\t安裝複雜、成本較高\t大多數家庭、臥室/客廳\n變頻冷氣\t省電、溫控精準\t價格高、維修成本較高\t長時間使用（>6小時/天）\n定頻冷氣\t價格低、維修簡單\t耗電、溫差較大\t短時間使用（如書房）\n\n二、關鍵選購指標\n冷氣能力（BTU/KW）\n計算公式：坪數 × 450~600 kcal/h（依環境調整）\n範例：5坪房間需約2.2~2.8 kW（約0.8~1噸）\n高熱環境（西曬、頂樓、廚房）需增加20~30%能力。\n\n能源效率（CSPF）\n認明「1級能效」最省電，長期使用省電費。\nCSPF值越高，效率越好（如5.0以上優於3.5）。\n\n變頻 vs. 定頻\n變頻：適合長時間開機，電費省30~50%。\n定頻：適合短時間使用，價格便宜30~40%。\n\n噪音值（dB）\n室內機建議選20~40 dB（圖書館級靜音）。\n\n三、特殊需求考量\n健康功能：\n防霉濾網、自體清潔（如大金、Panasonic）。\n空氣淨化（如LG、日立）。\n智慧控制：\nWi-Fi遠控（支援APP或語音助理）。\n安裝限制：\n管線長度（分體式冷氣需預留冷媒管距離）。\n\n四、品牌與價格參考\n品牌\t特色\t\n大金\t靜音、耐用\t\n日立\t省電、冷房快\t\n樂聲\t高CP值、功能齊全\t\n格力\t平價、適合小空間\n五、安裝注意事項\n室外機位置：通風良好、避免日曬雨淋。\n排水管坡度：防止積水倒灌。\n電壓需求：一般家用為220V，確認電線負荷。\n\n六、省電小技巧\n溫度設定26~28℃，搭配電風扇更省電。\n定期清洗濾網（每2週一次）。\n避免陽光直射室內，使用窗簾隔熱。\n建議行動步驟：\n量測空間坪數與環境條件。\n比較3家以上廠商報價（含安裝費）。\n優先選擇「變頻+1級能效」機型。\n若有具體需求（如型號推薦、西曬房配置），可提供更多細節進一步分析！'
      },
      {
        question: '冷氣機安裝前必須「睇位」嗎？',
        answer: '需要！無論是分體式、窗口式還是吊隱式冷氣機，安裝前的現場勘察（睇位）是確保冷氣效能、安全性和長期穩定運作的關鍵步驟。以下詳細分析原因與注意事項：\n\n一、為什麼安裝前必須「睇位」？\n1. 評估空間條件：根據房間面積、樓高、日照時間、居住人數等，計算合適的冷氣噸數（BTU）。\n2. 確認機型可行性：需確認室內外機距離是否在管線限制範圍內。\n3. 電力系統檢查：確認電壓、插座位置是否符合冷氣機需求。\n4. 安全與法規考量：遵守大廈管理條例，避免觸法。\n\n二、「睇位」時專業師傅會檢查哪些項目？\n1. 環境檢查：牆體材質是否適合鑽孔固定。\n2. 技術細節規劃：銅管彎折角度、排水管是否需加裝保溫棉。\n3. 特殊需求溝通：是否需要隱藏管線。\n\n三、不「睇位」直接安裝的風險：\n1. 冷氣效能打折：室外機散熱不良會導致耗電量增加。\n2. 漏水與噪音問題：排水管坡度錯誤可能造成室內漏水。\n3. 安全隱患：電線負荷過高可能引發火災。\n4. 後續維修困難：若管線走位雜亂，未來檢修時需拆除裝潢。\n\n四、消費者該如何配合？\n1. 預先清理安裝區域：移開家具、清空雜物。\n2. 提供建築圖紙（如有）：協助判斷牆內結構。\n3. 明確需求溝通：例如希望室內機安裝高度等。'
      },
    ]
  },
  {
    id: 3,
    title: '維修問題',
    items: [
      {
        question: '我的冷氣室內機漏水是什麼原因呢?',
        answer: '冷氣滴水會因以下幾個情況出現漏水問題﹐若遇到漏水問題可以聯絡維修人員上門維修：\n1. 室內機安裝不牢固造成移位：室內機固定掛板安裝不牢固，時間長了發生移位，導致排水管引出一側位置偏高，造成排水困難。\n2. 室內機機體的水準位置安裝不當：室內機水準位置安裝傾斜，管路口方向位置過高造成結露水外排受阻。\n3. 排水管不良：由於排水管老化鬆弛或彎曲成波浪形狀，造成排水不暢。\n4. 配管上結露水：由於管路上的保溫材料品質太差或過薄，或未完全包裹，當管內製冷劑通過時，引起結露。\n5. 引出室外的排水管被人為堵住或排水口被贓物堵住，造成結露水無法排出。'
      },
      {
        question: '我的窗口式冷氣機滴水給人投訴',
        answer: '市面上的窗口式冷氣機只附有一個較細小的水盤﹐而該去水盤會較為容易淤塞。為長遠計﹐建議加裝不銹鋼或塑膠的去水盤，再接駁一條去水喉沿牆身流，可減低投訴風險。'
      },
      {
        question: '為什麼冷氣會結冰',
        answer: 'A. 雪種不足（漏雪種）\nB. 濾網或蒸發器鰭片太髒造成，熱交換效率差，造成壓縮機輕載，也會結冰。\nC. 馬達轉速變慢，造成輕載，也會結冰。\n這個時候﹐請與你的維修員聯絡。'
      },
      {
        question: '搖控不能控制冷氣',
        answer: '先檢查是否搖控器電池沒電，如換電池後都不能操作，可能是搖控器壞或冷氣的接收感應器故障，需預約冷氣師傅到現場檢查問題。'
      },
      {
        question: '冷氣噪音較響時',
        answer: '請先確認聲音是否源自冷氣；冷氣啟動或停機時，內機塑膠件因溫度變化發生脹縮而發出的聲音屬正常現象；內外機固定牆壁是否結實；檢查室內外連接管是否固定好，有無和室外機或其它物體發生碰撞；冷氣啟動或停機時，系統內雪種在達到平衡之前會發出較響流動聲，屬正常現象。'
      }, 
      {
        question: '冷氣不冷，可能原因有哪些？',
        answer: '常見問題：\n雪種不足（可能洩漏）→ 需補冷媒並檢查漏點。\n濾網或鰭片堵塞→ 清洗濾網及蒸發器。\n室外機散熱不良→ 清潔冷凝器或改善通風。\n壓縮機故障→ 需專業檢修或更換。\n溫度感應器異常→ 更換感測器。\n\n簡易檢查步驟：\n先清潔濾網。\n確認室外機是否運轉。\n檢查遙控器設定是否正確（勿誤設為「送風」模式）。'
      },
      {
        question: '冷氣漏水，如何處理？',
        answer: '可能原因及解決方式：\n排水管堵塞→ 用細鐵絲或通條疏通。\n安裝不水平（室內機傾斜錯誤）→ 調整角度。\n冷凝水盤破損→ 更換水盤或修補。\n冷氣過濾網太髒→ 清洗濾網改善氣流。\n\n緊急處理：關閉冷氣，用毛巾吸水，避免電路受潮。'
      },
      {
        question: '冷氣有異味（霉味、酸臭味），怎麼辦？',
        answer: '處理方式：\n清洗濾網、蒸發器、風輪（黴菌滋生主因）。\n使用冷氣抗菌噴劑或紫外線殺菌燈。\n定期開「送風模式」保持內部乾燥。\n檢查排水管是否積水發霉。\n\n避免用香水掩蓋，可能損壞機器。'
      },
      {
        question: '冷氣運轉時噪音大，可能原因？',
        answer: '常見噪音來源：\n風扇葉片變形或卡髒污→ 清潔或更換風扇。\n室外機支架鬆動→ 重新鎖緊螺絲或加裝防震墊。\n壓縮機老化→ 需專業檢修。\n冷媒流動聲（嘶嘶聲）→ 可能冷媒不足或堵塞。'
      },
      {
        question: '冷氣遙控器失靈，如何排除？',
        answer: '檢查步驟：\n換新電池（注意正負極）。\n用酒精棉片清潔遙控器感應窗。\n確認冷氣接收器是否被遮擋（如灰塵覆蓋）。\n嘗試用手機相機檢查遙控器紅外線是否正常發射（按鍵時看有無亮光）。\n\n若仍無效，可能需更換遙控器或主機板。'
      },
      {
        question: '冷氣自動開關機，是什麼問題？',
        answer: '可能原因：\n溫度感應器故障→ 誤判室溫導致異常啟停。\n電壓不穩（老舊線路或夏季用電超載）。\n主機板控制異常→ 需檢修電路。\n遙控器按鍵卡住→ 檢查是否受潮或損壞。'
      },
      {
        question: '冷氣顯示錯誤代碼（如E5、H3），怎麼辦？',
        answer: '處理方式：\n查閱說明書或上網搜尋「品牌+錯誤碼」（如：大金冷氣E5）。\n常見代碼意義：\nE1/E2：溫度感測異常。\nE5/H5：過電流或壓縮機保護。\nP0/P1：冷媒相關故障。\n斷電重啟，若仍出現需聯繫冷氣公司。'
      },
      {
        question: '如何判斷該維修還是換新冷氣？',
        answer: '考慮以下幾點：\n冷氣年齡：超過8~10年建議換新（新機更省電）。\n維修成本：若超過新機1/2價格，不如換新。\n效能表現：即使運轉正常，但耗電量暴增也該淘汰。\n\n總結建議：\n簡易問題先自行排查（如濾網、遙控器）。\n定期保養（每年至少1次）可延長冷氣壽命。\n若問題複雜或涉及電路、冷媒，建議直接聯繫原廠或冷氣維修公司，適當分解問題。'
      }
    ]
  },
  {
    id: 4,
    title: '檢查問題',
    items: [
      {
        question: '冷氣機什麼時候才需要入雪種?',
        answer: '雪種不足或洩漏, 才需要入雪種, 所以一般不用定期更換或入雪種。'
      },
      {
        question: '冷氣機未能啓動?',
        answer: '檢查定時開機的設定時間和供電是否出問題'
      },
      {
        question: '冷氣機啓動後風量較弱?',
        answer: '清洗過濾網或聯絡維修人員上門檢查'
      },
      {
        question: '分體機的燈在閃爍，如何處理？',
        answer: '如果隱藏天花式冷氣機前面版的綠燈在閃爍，表示出現故障，您應盡快處理。'
      },
      {
        question: '如掛牆式冷氣機的其他燈在閃爍，有可能代表冷氣出現異常，',
        answer: '請與你的維修員聯絡。'
      },
      {
        question: '冷氣機自動關機',
        answer: '這請與你的維修員聯絡。不過在這之前，你先確定一下遙控上沒有自動關機的設置'
      },
      {
        question: '冷氣出風葉不能擺動:',
        answer: '先看看搖控器是否設定了不擺動,如果設定是正常而不能擺動,可能是摩打故障,需找冷氣師傅跟進'
      },
      {
        question: '冷氣機檢查問題?',
        answer: '一、冷氣不冷/製冷效果差\n\n1. 濾網積塵\n   原因：灰塵堵塞影響空氣循環。\n   解決：定期清洗濾網（建議每2週一次）。\n\n2. 冷媒不足或洩漏\n   原因：管線老化或安裝不當導致冷媒外洩。\n   解決：聯繫專業人員檢測並補充冷媒。\n\n3. 室外機散熱不良\n   原因：周圍雜物堆積、散熱片髒污或陽光直射。\n   解決：清理周圍障礙物，用軟毛刷清潔散熱片。\n\n4. 溫度設定錯誤\n   原因：設定溫度過高或誤設為送風模式。\n   解決：調整至合理溫度（建議26℃），確認模式為「製冷」。'
      },
      {
        question: '水塔檢查問題?',
        answer: '一、散熱效率下降\n\n1. 水溫降幅不足\n   原因：風扇運轉異常（皮帶鬆脫、馬達故障）。\n   解決：檢查風扇皮帶張力及馬達運轉狀態。\n\n2. 填料堵塞或老化，影響水氣熱交換。\n   解決：清潔或更換填料，確保水流均勻分佈。\n\n3. 循環水量不足或分水不均。\n   解決：檢查水泵與過濾器，調整進水閥門。\n\n二、水塔漏水\n\n1. 塔體結構破損\n   原因：材質老化（如FRP裂縫）、螺栓鬆脫或接縫膠條劣化。\n   解決：修補裂縫、鎖緊螺栓或更換密封膠條。\n\n2. 溢流或水位過高\n   原因：浮球閥故障、進水閥失靈或排水管堵塞。\n   解決：調整浮球閥位置、清理排水管或更換進水閥。'
      },
      {
        question: '漏雪種問題?',
        answer: '一、漏雪種的常見原因\n\n1. 管路老化或腐蝕\n   原因：銅管長期震動、氧化，或接觸酸鹼物質導致破損。\n   常見位置：室外機連接處、穿牆管段。\n\n2. 安裝不當\n   原因：接頭未鎖緊、焊接點瑕疵（如沙眼）、彎管角度過大導致裂縫。\n\n3. 外力損壞\n   原因：裝修時意外撞擊、動物啃咬（如老鼠）、尖銳物劃傷管線。\n\n4. 零件密封失效\n   原因：閥門O型環老化、壓縮機軸封磨損。'
      },
      {
        question: '風機檢查問題?',
        answer: '一、風機不運轉\n\n1. 電源問題\n   原因：插頭鬆脫、插座故障或電源線損壞。\n   解決：檢查插頭與插座接觸是否良好，嘗試更換插座或電源線。\n\n2. 電容損壞\n   原因：啟動電容老化或燒毀（常見於交流風扇）。\n   解決：需更換同規格電容，建議由專業人員操作。\n\n3. 馬達故障\n   原因：線圈燒毀、軸承卡死或過熱保護啟動。\n   解決：停機後冷卻再試，若仍不轉動需送修或更換馬達。'
      }
    ]
  },
  {
    id: 5,
    title: '其他問題',
    items: [
      {
        question: '為什麼室內機有氣味產生?',
        answer: '冷氣機吸收了房間、家具或香煙的氣味，然後在運作時排出。'
      },
      {
        question: '冷氣出風葉有水珠',
        answer: '因為冷氣機與室內空氣的温差太大,導致有汗水,先開機一段時間就不會再有倒汗水'
      },
      {
        question: '冷氣為什麼會噴白煙？',
        answer: '當室內溫度和濕度較高時，冷氣製冷會吹出霧氣。這是由於空氣中的水蒸氣被冷卻所引起的。當室內溫度和濕度降低後則霧氣會消失。這屬於正常現象'
      }
    ]
  }
];

const FAQPage: NextPage = () => {
  const { openModal: openContactModal } = useContactModal();
  const [activeCategory, setActiveCategory] = useState<number>(1);
  const [expandedAnswers, setExpandedAnswers] = useState<{[key: string]: boolean}>({});

  // 折叠回答的函数
  const toggleAnswer = (categoryId: number, itemIndex: number) => {
    const key = `${categoryId}-${itemIndex}`;
    setExpandedAnswers({
      ...expandedAnswers,
      [key]: !expandedAnswers[key]
    });
  };

  // 检查回答是否需要折叠 (超过5行)
  const shouldCollapse = (answer: string) => {
    return answer.split('\n').length > 5;
  };

  // 获取预览内容 (前3行)
  const getPreviewContent = (answer: string) => {
    const lines = answer.split('\n');
    const previewLines = lines.slice(0, 3);
    return previewLines.join('\n');
  };

  return (
    <Layout
      title="冷氣常見問題FAQ | 冷氣保養、維修、檢查、清洗、大金VRV系統 - 同發冷氣工程"
      description="了解冷氣使用、保養、維修、檢查、清洗及大金VRV/VRF系統相關的常見問題與專業解答。同發冷氣工程專業技術團隊為您提供冷氣系統全方位支援。"
    >
      <Head>
        <meta name="keywords" content="冷氣FAQ,冷氣常見問題,冷氣保養,冷氣檢查,檢查冷氣,VRV系統,VRF系統,大金VRV,冷氣維修,維修冷氣,洗冷氣,冷氣清洗,冷氣安裝" />
        <link rel="canonical" href="https://www.aircon88.com/faq" />
      </Head>

      {/* 頂部橫幅 */}
      <div className="relative bg-gray-900 py-16 md:py-24">
        <div className="absolute inset-0 z-0">
          <Image
            src="/faq-banner.jpg"
            alt="常見問題"
            fill
            className="object-cover object-center opacity-30"
          />
        </div>
        <div className="relative z-10 container mx-auto px-4 text-center">
          <h1 className="text-3xl md:text-4xl font-bold text-white mb-4">常見問題</h1>
          <p className="text-lg text-white/90 max-w-2xl mx-auto">
            我們整理了客戶常見的問題及解答，希望能幫助您更了解我們的服務
          </p>
          <div className="w-24 h-1 bg-primary mx-auto mt-6"></div>
        </div>
      </div>

      {/* FAQ內容部分 */}
      <section className="py-16 bg-white">
        <div className="container mx-auto px-4">
          <div className="flex flex-col lg:flex-row gap-8">
            {/* 左側分類導航 */}
            <div className="lg:w-1/4">
              <div className="bg-gray-50 rounded-lg p-6 shadow-md sticky top-24">
                <h3 className="text-xl font-bold text-gray-900 mb-6">問題分類</h3>
                <nav>
                  <ul className="space-y-2">
                    {faqData.map(category => (
                      <li key={category.id}>
                        <button
                          onClick={() => setActiveCategory(category.id)}
                          className={`w-full text-left px-4 py-2 rounded-md transition-colors ${
                            activeCategory === category.id
                              ? 'bg-primary text-white font-semibold'
                              : 'text-gray-700 hover:bg-gray-200'
                          }`}
                        >
                          {category.title}
                        </button>
                      </li>
                    ))}
                  </ul>
                </nav>
              </div>
            </div>

            {/* 右側問答內容 */}
            <div className="lg:w-3/4">
              {faqData.map(category => (
                <div 
                  key={category.id} 
                  className={activeCategory === category.id ? 'block' : 'hidden'}
                >
                  <h2 className="text-2xl md:text-3xl font-bold text-gray-900 mb-8">
                    {category.title}相關問題
                  </h2>
                  
                  <div className="space-y-8">
                    {category.items.map((item, index) => {
                      const needsCollapse = shouldCollapse(item.answer);
                      const key = `${category.id}-${index}`;
                      const isExpanded = expandedAnswers[key] || false;
                      const displayContent = needsCollapse && !isExpanded 
                        ? getPreviewContent(item.answer) 
                        : item.answer;
                        
                      return (
                        <div 
                          key={index} 
                          className="border border-gray-200 rounded-lg overflow-hidden shadow-sm"
                        >
                          <div className="p-4 bg-gray-50">
                            <h3 className="text-lg font-semibold text-gray-900">{item.question}</h3>
                          </div>
                          <div className="p-4 bg-white">
                            <p className="text-gray-600 whitespace-pre-line">{displayContent}</p>
                            
                            {needsCollapse && (
                              <button 
                                onClick={() => toggleAnswer(category.id, index)}
                                className="mt-3 text-primary hover:text-primary-dark font-medium flex items-center"
                              >
                                {isExpanded ? (
                                  <>
                                    <span>顯示較少</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                                      <path fillRule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clipRule="evenodd" />
                                    </svg>
                                  </>
                                ) : (
                                  <>
                                    <span>顯示更多</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                                      <path fillRule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clipRule="evenodd" />
                                    </svg>
                                  </>
                                )}
                              </button>
                            )}
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* 未找到答案部分 */}
      <section className="py-12 bg-gray-50">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-2xl md:text-3xl font-bold text-gray-900 mb-4">沒有找到您的問題？</h2>
          <p className="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
            如果您有其他問題或需要更詳細的資訊，請隨時聯繫我們的客戶服務團隊
          </p>
          <button 
            onClick={openContactModal}
            className="inline-flex items-center justify-center px-6 py-3 rounded-md font-semibold bg-primary text-white hover:bg-primary-dark transition-colors shadow-lg"
          >
            立即聯繫我們
          </button>
        </div>
      </section>
    </Layout>
  );
};

export default FAQPage; 